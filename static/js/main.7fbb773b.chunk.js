(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),o=n.n(c),i=n(19),s=n.n(i),u=n(14),l=n(13),d=n(37),h=n(30),p=n(7),b=n.n(p),f=n(9),m=n(16),j=n(8);!function(e){e.FETCH_CHARACTERS="@@characters/FETCH_CHARACTERS",e.FETCH_CHARACTERS_SUCCESS="@@characters/FETCH_CHARACTERS_SUCCESS",e.FETCH_CHARACTERS_ERROR="@@characters/FETCH_CHARACTERS_ERROR",e.SELECT_CHARACTER="@@characters/SELECT_CHARACTER"}(r||(r={})),function(e){e.FETCH_FILMS="@@films/FETCH_FILMS",e.FETCH_FILMS_SUCCESS="@@films/FETCH_FILMS_SUCCESS",e.FETCH_FILMS_ERROR="@@films/FETCH_FILMS_ERROR",e.FETCH_CHARACTER_FILMS_SUCCESS="@@films/FETCH_CHARACTER_FILMS_SUCCESS"}(a||(a={}));var O={characters:{count:0,hasMoreData:!1,data:[]},selectedCharacter:null,loading:!1,error:null,page:1},x={films:[],selectedCharacterFilms:[],loading:!1,error:null},C=n(15),v=n(31),g=n(32),E=new(function(){function e(){Object(v.a)(this,e),this.baseUrl="https://swapi.dev/api/",this.peopleEndpoint="people/",this.planetsEndpoint="planets/",this.filmsEndpoint="films/",this.defaultHeaders={Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}}return Object(g.a)(e,[{key:"fetchCharacters",value:function(){var e=Object(C.a)(b.a.mark((function e(t){var n,r,a,c=this,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,this.get("".concat(this.baseUrl).concat(this.peopleEndpoint,"?search=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.next=6,Promise.all(r.results.map(function(){var e=Object(C.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mapToCharacter(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return a=e.sent,e.abrupt("return",{count:r.count,hasMoreData:null!==r.next,data:a});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPlanet",value:function(){var e=Object(C.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("".concat(this.baseUrl).concat(this.planetsEndpoint).concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",this.mapToPlanet(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFilm",value:function(){var e=Object(C.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("".concat(this.baseUrl).concat(this.filmsEndpoint).concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",this.mapToFilm(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdFromUrl",value:function(e){return+e.split("/").reverse()[1]}},{key:"mapToCharacter",value:function(){var e=Object(C.a)(b.a.mark((function e(t){var n,r,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getIdFromUrl(t.homeworld),e.next=3,this.fetchPlanet(n);case 3:return r=e.sent,e.abrupt("return",{id:this.getIdFromUrl(t.url),name:t.name,homeworld:r,filmIds:t.films.map((function(e){return a.getIdFromUrl(e)}))});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mapToPlanet",value:function(e){return{id:this.getIdFromUrl(e.url),name:e.name,population:e.population}}},{key:"mapToFilm",value:function(e){return{id:this.getIdFromUrl(e.url),title:e.title,releaseDate:new Date(e.release_date),openingCrawl:e.opening_crawl}}},{key:"get",value:function(){var e=Object(C.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(j.a)({method:"GET",headers:this.defaultHeaders},n),e.next=3,this.makeRequest(new Request(t,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"makeRequest",value:function(){var e=Object(C.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.statusText);case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}());function S(e,t){return{type:r.FETCH_CHARACTERS,payload:{searchValue:e,page:t}}}function w(e){return{type:r.SELECT_CHARACTER,payload:{character:e}}}function F(e){return{type:a.FETCH_FILMS_SUCCESS,payload:{films:e}}}function R(e){return{type:a.FETCH_CHARACTER_FILMS_SUCCESS,payload:{films:e}}}var T=b.a.mark(L),y=b.a.mark(I),_=b.a.mark(M),H=b.a.mark(B),k=b.a.mark(P),A=b.a.mark(z);function L(e){var t,n,a,c;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.searchValue,a=t.page,o.prev=1,o.next=4,Object(f.b)([E,E.fetchCharacters],n,a);case 4:return c=o.sent,o.next=7,Object(f.d)((s=c,{type:r.FETCH_CHARACTERS_SUCCESS,payload:{characters:s}}));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(f.d)((i=o.t0.message,{type:r.FETCH_CHARACTERS_ERROR,payload:{error:i}}));case 13:case"end":return o.stop()}var i,s}),T,null,[[1,9]])}function I(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.f)(r.FETCH_CHARACTERS,L);case 2:case"end":return e.stop()}}),y)}function M(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(I)]);case 2:case"end":return e.stop()}}),_)}var U=function(e,t){return t.find((function(t){return t.id===e}))},D=function(e){return e.films.films};function B(e){var t,n,r,c,o;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.filmIds,n=[],r=[],i.next=5,Object(f.e)(D);case 5:return c=i.sent,t.forEach((function(e){var t=U(e,c);t?n.push(t):r.push(e)})),i.prev=7,i.next=10,Object(f.a)(r.map((function(e){return Object(f.b)([E,E.fetchFilm],e)})));case 10:return o=i.sent,n.push.apply(n,Object(m.a)(o)),i.next=14,Object(f.d)(F(o));case 14:return i.next=16,Object(f.d)(R(n));case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(7),i.next=22,Object(f.d)((s=i.t0.message,{type:a.FETCH_FILMS_ERROR,payload:{error:s}}));case 22:case"end":return i.stop()}var s}),H,null,[[7,18]])}function P(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.f)(a.FETCH_FILMS,B);case 2:case"end":return e.stop()}}),k)}function z(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(P)]);case 2:case"end":return e.stop()}}),A)}var q=b.a.mark(N),J=Object(l.combineReducers)({characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.FETCH_CHARACTERS:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null,characters:1===t.payload.page?Object(j.a)(Object(j.a)({},e.characters),{},{data:[]}):e.characters});case r.FETCH_CHARACTERS_SUCCESS:var n=t.payload.characters,a=n.hasMoreData?e.page+1:1;return Object(j.a)(Object(j.a)({},e),{},{loading:!1,page:a,characters:{count:n.count,hasMoreData:n.hasMoreData,data:[].concat(Object(m.a)(e.characters.data),Object(m.a)(n.data))}});case r.FETCH_CHARACTERS_ERROR:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload.error});case r.SELECT_CHARACTER:return Object(j.a)(Object(j.a)({},e),{},{selectedCharacter:t.payload.character});default:return e}},films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.FETCH_FILMS:return Object(j.a)(Object(j.a)({},e),{},{error:null,loading:!0});case a.FETCH_FILMS_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,films:[].concat(Object(m.a)(e.films),Object(m.a)(t.payload.films))});case a.FETCH_FILMS_ERROR:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload.error});case a.FETCH_CHARACTER_FILMS_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{selectedCharacterFilms:t.payload.films});default:return e}}});function N(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(M),Object(f.c)(z)]);case 2:case"end":return e.stop()}}),q)}var V,W,G,Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},K=n(4),Q=n(23),X=n(22),Z=n(6),$="375px",ee="425px",te="768px",ne="1024px",re="1440px",ae="2560px",ce={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat($,")"),mobileL:"(max-width: ".concat(ee,")"),tablet:"(max-width: ".concat(te,")"),laptop:"(max-width: ".concat(ne,")"),laptopL:"(max-width: ".concat(re,")"),desktop:"(max-width: ".concat(ae,")"),desktopL:"(max-width: ".concat(ae,")")},oe=K.d.button(V||(V=Object(Z.a)(["\n  border: none;\n  border-radius: 50px;\n  box-shadow: ",";\n  cursor: pointer;\n  font-size: 1.6em;\n  outline: none;\n  padding: 0.6em 3em;\n  transition: box-shadow 0.3s ease-in-out;\n\n  ",";\n\n  &:active {\n    box-shadow: ",";\n  }\n\n  @media "," {\n    font-size: 1.2em;\n  }\n"])),(function(e){return e.theme.boxShadow}),(function(e){return e.disabled?Object(K.c)(W||(W=Object(Z.a)(["\n          background-color: rgba(0, 0, 0, 0.05);\n          color: rgba(0, 0, 0, 0.15);\n        "]))):Object(K.c)(G||(G=Object(Z.a)(["\n          background-color: ",";\n          color: ",";\n        "])),(function(e){return e.theme.componentBackgroundColor}),(function(e){return e.theme.primaryColor}))}),(function(e){return e.theme.activeBoxShadow}),ce.mobileL),ie=n(2);var se,ue,le,de=function(e){var t=e.children,n=Object(X.a)(e,["children"]);return Object(ie.jsx)(oe,Object(j.a)(Object(j.a)({},n),{},{children:t}))},he=function(e){var t,n,r=e.film,a=r.title,c=r.releaseDate,o=r.openingCrawl;return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("h3",{children:a}),Object(ie.jsx)("p",{children:c.toLocaleDateString()}),Object(ie.jsx)("p",{children:(t=o,n=130,t.length>n?t.substring(0,n)+"...":t)})]})},pe=K.d.ul(se||(se=Object(Z.a)(["\n    max-height: calc(100vh - 200px);\n    overflow-y: auto;\n"]))),be=function(e){var t=e.films;return Object(ie.jsx)(pe,{children:t.map((function(e){return function(e){return Object(ie.jsx)(he,{film:e},e.id)}(e)}))})},fe=K.d.p(ue||(ue=Object(Z.a)(["\n    color: #c62222;\n"]))),me=K.d.p(le||(le=Object(Z.a)(["\n  color: ",";\n  display: inline-block;\n  font-size: 2.6rem;\n  margin: 0;\n"])),(function(e){return e.theme.primaryColor}));var je,Oe,xe,Ce,ve,ge,Ee,Se,we=function(e){var t=e.children,n=Object(X.a)(e,["children"]);return Object(ie.jsx)(me,Object(j.a)(Object(j.a)({},n),{},{children:t}))},Fe=n(36),Re=n.n(Fe),Te=function(){var e=Object(c.useContext)(K.a);return Object(ie.jsx)(Re.a,{type:"Oval",color:e.accentColor,height:40,width:40})},ye=function(e){var t=e.character,n=Object(u.c)((function(e){return e.films})),r=n.selectedCharacterFilms,o=n.loading,i=n.error,s=Object(u.b)();Object(c.useEffect)((function(){var e;s((e=t.filmIds,{type:a.FETCH_FILMS,payload:{filmIds:e}}))}),[t.filmIds,s]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("h2",{children:["List of movies in which ",t.name," appeared"]}),o&&Object(ie.jsx)(Te,{}),!o&&Object(ie.jsx)(be,{films:r}),!o&&!i&&0===r.length&&Object(ie.jsx)(we,{children:"No films found."}),!o&&i&&Object(ie.jsx)(fe,{children:i})]})},_e=K.d.li(je||(je=Object(Z.a)(["\n    border-radius: 10px;\n    box-shadow: ",";\n    cursor: pointer;\n    padding: 1em 2em;\n"])),(function(e){return e.theme.boxShadow})),He=function(e){var t=e.character,n=e.onClick,r=t.homeworld,a=r.name,c=r.population;return Object(ie.jsxs)(_e,{onClick:function(){return n(t)},children:[Object(ie.jsx)("h3",{children:t.name}),Object(ie.jsxs)("p",{children:["Homeworld: ",a,", Population: ",c]})]})},ke=K.d.ul(Oe||(Oe=Object(Z.a)(["\n    display: grid;\n    gap: 2.5rem;\n    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n    margin: 2em 0;\n\n    @media "," {\n        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    }\n"])),ce.tablet),Ae=function(e){var t=e.characters,n=e.onCharacterSelect;return Object(ie.jsx)(ke,{children:t.map((function(e){return function(e){return Object(ie.jsx)(He,{character:e,onClick:n},e.id)}(e)}))})},Le=K.d.div(xe||(xe=Object(Z.a)(["\n    background: #fff;\n    border-radius: 5px;\n    margin: 20px auto;\n    max-height: calc(100vh - 40px);\n    overflow: hidden;\n    padding: 20px;\n    position: relative;\n    width: 60%;\n\n    @media "," {\n        width: 80%;\n    }\n\n    @media "," {\n        height: 100vh;\n        margin: 0;\n        max-height: initial;\n        padding: 20px 10px;\n        width: 100%;\n    }\n"])),ce.laptop,ce.tablet),Ie=K.d.button(Ce||(Ce=Object(Z.a)(["\n    background: none;\n    border: none;\n    color: #333;\n    cursor: pointer;\n    font-size: 30px;\n    font-weight: bold;\n    outline: none;\n    position: absolute;\n    right: 20px;\n    top: 10px;\n    transition: all 200ms;\n\n    &:hover {\n        color:",";\n    }\n"])),(function(e){return e.theme.accentColor})),Me=K.d.div(ve||(ve=Object(Z.a)(["\n    margin: 1em 2em;\n\n    @media "," {\n        margin: 1em 0;\n    }\n"])),ce.tablet),Ue=K.d.div(ge||(ge=Object(Z.a)(["\n    background: rgba(0, 0, 0, 0.7);\n    bottom: 0;\n    left: 0;\n    opacity: ",";\n    position: fixed;\n    right: 0;\n    top: 0;\n    transition: all 0.3s linear;\n    visibility: ",";\n"])),(function(e){return e.isOpen?"1":"0"}),(function(e){return e.isOpen?"visible":"hidden"})),De=function(e){var t=e.isOpen,n=e.onClose,r=e.children;return Object(c.useEffect)((function(){return t&&(document.body.style.overflow="hidden"),function(){document.body.style.overflow="unset"}}),[t]),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ue,{isOpen:t,children:Object(ie.jsxs)(Le,{children:[Object(ie.jsx)(Ie,{onClick:n,children:"\xd7"}),Object(ie.jsx)(Me,{children:r})]})})})},Be=K.d.h1(Ee||(Ee=Object(Z.a)(["\n  color: ",";\n  margin: 0 0 2rem;\n\n  @media "," {\n    font-size: 1.6em;\n  }\n"])),(function(e){return e.theme.secondaryAccentColor}),ce.mobileL),Pe=K.d.input(Se||(Se=Object(Z.a)(["\n  background-color: ",";\n  border: none;\n  border-radius: 50px;\n  box-shadow: ",";\n  color: ",";\n  font-size: 1.6em;\n  outline: none;\n  padding: 0.6em 1.5em;\n  width: 100%;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  @media "," {\n    font-size: 1.2em;\n  }\n"])),(function(e){return e.theme.componentBackgroundColor}),(function(e){return e.theme.activeBoxShadow}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.placeholderColor}),ce.mobileL);var ze,qe,Je,Ne=function(e){return Object(ie.jsx)(Pe,Object(j.a)({},e))},Ve=K.d.form(ze||(ze=Object(Z.a)(["\n  border-radius: 10px;\n  box-shadow: ",";\n  margin: 0 auto;\n  overflow: hidden;\n  padding: 4rem 2rem;\n  text-align: left;\n  width: 550px;\n\n  @media "," {\n    width: 100%;\n  }\n"])),(function(e){return e.theme.boxShadow}),ce.tablet),We=K.d.div(qe||(qe=Object(Z.a)(["\n  margin-bottom: 3rem;\n"]))),Ge=function(e){var t=e.searchCharacter,n=Object(c.useState)(""),r=Object(Q.a)(n,2),a=r[0],o=r[1];return Object(ie.jsxs)(Ve,{onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(ie.jsx)(Be,{children:"Search Your Favorite Characters"}),Object(ie.jsx)(We,{children:Object(ie.jsx)(Ne,{type:"text",name:"search",placeholder:"Search a character",onChange:function(e){o(e.target.value)}})}),Object(ie.jsx)(de,{children:"Search"})]})},Ye=function(){var e=Object(u.c)((function(e){return e.characters})),t=e.characters,n=e.selectedCharacter,r=e.loading,a=e.page,o=e.error,i=Object(u.b)(),s=Object(c.useState)(null),l=Object(Q.a)(s,2),d=l[0],h=l[1],p=Object(c.useCallback)((function(e){h(e),i(S(e,1))}),[i]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ge,{searchCharacter:p}),Object(ie.jsx)(Ae,{characters:t.data,onCharacterSelect:function(e){i(w(e))}}),!r&&t.hasMoreData&&Object(ie.jsx)(de,{onClick:function(){null!==d&&i(S(d,a))},children:"Load more characters"}),r&&Object(ie.jsx)(Te,{}),!r&&!o&&0===t.data.length&&null!==d&&Object(ie.jsx)(we,{children:"No characters found."}),!r&&o&&Object(ie.jsx)(fe,{children:o}),Object(ie.jsx)(De,{isOpen:null!==n,onClose:function(){i(w(null))},children:null!==n&&Object(ie.jsx)(ye,{character:n})})]})},Ke=K.d.div(Je||(Je=Object(Z.a)(["\n  margin: 2em 4em;\n\n  @media "," {\n    margin: 2em 1em;\n  }\n"])),ce.tablet),Qe={accentColor:"#0850FA",activeBoxShadow:"inset 3px 5px 8px rgba(0, 0, 0, 0.2), -3px -5px 8px rgba(255, 255, 255, 0.5)",boxShadow:"5px 10px 15px rgba(0, 0, 0, 0.2), -5px -10px 15px rgba(255, 255, 255, 0.5)",componentBackgroundColor:"#ecedf0",placeholderColor:"#98a2ba",primaryColor:"#788093",progressBarLineStartColor:"rgb(6, 81, 250)",progressBarLineEndColor:"rgb(0, 223, 226)",secondaryAccentColor:"#326cf5"};var Xe=function(){return Object(ie.jsx)(K.b,{theme:Qe,children:Object(ie.jsxs)(Ke,{children:[Object(ie.jsx)("h1",{children:"Star Wars"}),Object(ie.jsx)(Ye,{})]})})},Ze=(n(71),function(){var e=Object(d.a)(),t=Object(l.applyMiddleware)(e),n=Object(h.composeWithDevTools)({}),r=Object(l.createStore)(J,n(t));return e.run(N),r}());s.a.render(Object(ie.jsx)(o.a.StrictMode,{children:Object(ie.jsx)(u.a,{store:Ze,children:Object(ie.jsx)(Xe,{})})}),document.getElementById("root")),Y()}},[[72,1,2]]]);
//# sourceMappingURL=main.7fbb773b.chunk.js.map