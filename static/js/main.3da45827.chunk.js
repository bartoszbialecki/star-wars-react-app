(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{71:function(e,n,t){"use strict";t.r(n);var r,a,c=t(1),o=t.n(c),i=t(19),s=t.n(i),u=t(14),l=t(13),d=t(37),h=t(30),p=t(7),b=t.n(p),f=t(9),m=t(16),j=t(8);!function(e){e.FETCH_CHARACTERS="@@characters/FETCH_CHARACTERS",e.FETCH_CHARACTERS_SUCCESS="@@characters/FETCH_CHARACTERS_SUCCESS",e.FETCH_CHARACTERS_ERROR="@@characters/FETCH_CHARACTERS_ERROR",e.SELECT_CHARACTER="@@characters/SELECT_CHARACTER"}(r||(r={})),function(e){e.FETCH_FILMS="@@films/FETCH_FILMS",e.FETCH_FILMS_SUCCESS="@@films/FETCH_FILMS_SUCCESS",e.FETCH_FILMS_ERROR="@@films/FETCH_FILMS_ERROR",e.FETCH_CHARACTER_FILMS_SUCCESS="@@films/FETCH_CHARACTER_FILMS_SUCCESS"}(a||(a={}));var x={characters:{count:0,hasMoreData:!1,data:[]},selectedCharacter:null,loading:!1,error:null,page:1},O={films:[],selectedCharacterFilms:[],loading:!1,error:null},C=t(15),g=t(31),v=t(32),S=new(function(){function e(){Object(g.a)(this,e),this.baseUrl="https://swapi.dev/api/",this.peopleEndpoint="people/",this.planetsEndpoint="planets/",this.filmsEndpoint="films/",this.defaultHeaders={Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}}return Object(v.a)(e,[{key:"fetchCharacters",value:function(){var e=Object(C.a)(b.a.mark((function e(n){var t,r,a,c=this,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,this.get("".concat(this.baseUrl).concat(this.peopleEndpoint,"?search=").concat(n,"&page=").concat(t));case 3:return r=e.sent,e.next=6,Promise.all(r.results.map(function(){var e=Object(C.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mapToCharacter(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return a=e.sent,e.abrupt("return",{count:r.count,hasMoreData:null!==r.next,data:a});case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchPlanet",value:function(){var e=Object(C.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("".concat(this.baseUrl).concat(this.planetsEndpoint).concat(n,"/"));case 2:return t=e.sent,e.abrupt("return",this.mapToPlanet(t));case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchFilm",value:function(){var e=Object(C.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("".concat(this.baseUrl).concat(this.filmsEndpoint).concat(n,"/"));case 2:return t=e.sent,e.abrupt("return",this.mapToFilm(t));case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getIdFromUrl",value:function(e){return+e.split("/").reverse()[1]}},{key:"mapToCharacter",value:function(){var e=Object(C.a)(b.a.mark((function e(n){var t,r,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getIdFromUrl(n.homeworld),e.next=3,this.fetchPlanet(t);case 3:return r=e.sent,e.abrupt("return",{id:this.getIdFromUrl(n.url),name:n.name,homeworld:r,filmIds:n.films.map((function(e){return a.getIdFromUrl(e)}))});case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"mapToPlanet",value:function(e){return{id:this.getIdFromUrl(e.url),name:e.name,population:e.population}}},{key:"mapToFilm",value:function(e){return{id:this.getIdFromUrl(e.url),title:e.title,releaseDate:new Date(e.release_date),openingCrawl:e.opening_crawl}}},{key:"get",value:function(){var e=Object(C.a)(b.a.mark((function e(n,t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(j.a)({method:"GET",headers:this.defaultHeaders},t),e.next=3,this.makeRequest(new Request(n,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"makeRequest",value:function(){var e=Object(C.a)(b.a.mark((function e(n){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.statusText);case 5:return e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}());function E(e,n){return{type:r.FETCH_CHARACTERS,payload:{searchValue:e,page:n}}}function w(e){return{type:r.SELECT_CHARACTER,payload:{character:e}}}function F(e){return{type:a.FETCH_FILMS_SUCCESS,payload:{films:e}}}function y(e){return{type:a.FETCH_CHARACTER_FILMS_SUCCESS,payload:{films:e}}}var R=b.a.mark(L),T=b.a.mark(I),_=b.a.mark(M),H=b.a.mark(z),k=b.a.mark(B),A=b.a.mark(P);function L(e){var n,t,a,c;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,t=n.searchValue,a=n.page,o.prev=1,o.next=4,Object(f.b)([S,S.fetchCharacters],t,a);case 4:return c=o.sent,o.next=7,Object(f.d)((s=c,{type:r.FETCH_CHARACTERS_SUCCESS,payload:{characters:s}}));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(f.d)((i=o.t0.message,{type:r.FETCH_CHARACTERS_ERROR,payload:{error:i}}));case 13:case"end":return o.stop()}var i,s}),R,null,[[1,9]])}function I(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.f)(r.FETCH_CHARACTERS,L);case 2:case"end":return e.stop()}}),T)}function M(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(I)]);case 2:case"end":return e.stop()}}),_)}var U=function(e,n){return n.find((function(n){return n.id===e}))},D=function(e){return e.films.films};function z(e){var n,t,r,c,o;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.payload.filmIds,t=[],r=[],i.next=5,Object(f.e)(D);case 5:return c=i.sent,n.forEach((function(e){var n=U(e,c);n?t.push(n):r.push(e)})),i.prev=7,i.next=10,Object(f.a)(r.map((function(e){return Object(f.b)([S,S.fetchFilm],e)})));case 10:return o=i.sent,t.push.apply(t,Object(m.a)(o)),i.next=14,Object(f.d)(F(o));case 14:return i.next=16,Object(f.d)(y(t));case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(7),i.next=22,Object(f.d)((s=i.t0.message,{type:a.FETCH_FILMS_ERROR,payload:{error:s}}));case 22:case"end":return i.stop()}var s}),H,null,[[7,18]])}function B(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.f)(a.FETCH_FILMS,z);case 2:case"end":return e.stop()}}),k)}function P(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(B)]);case 2:case"end":return e.stop()}}),A)}var q=b.a.mark(J),N=Object(l.combineReducers)({characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.FETCH_CHARACTERS:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null,characters:1===n.payload.page?Object(j.a)(Object(j.a)({},e.characters),{},{data:[]}):e.characters});case r.FETCH_CHARACTERS_SUCCESS:var t=n.payload.characters,a=t.hasMoreData?e.page+1:1;return Object(j.a)(Object(j.a)({},e),{},{loading:!1,page:a,characters:{count:t.count,hasMoreData:t.hasMoreData,data:[].concat(Object(m.a)(e.characters.data),Object(m.a)(t.data))}});case r.FETCH_CHARACTERS_ERROR:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:n.payload.error});case r.SELECT_CHARACTER:return Object(j.a)(Object(j.a)({},e),{},{selectedCharacter:n.payload.character});default:return e}},films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.FETCH_FILMS:return Object(j.a)(Object(j.a)({},e),{},{error:null,loading:!0});case a.FETCH_FILMS_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,films:[].concat(Object(m.a)(e.films),Object(m.a)(n.payload.films))});case a.FETCH_FILMS_ERROR:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:n.payload.error});case a.FETCH_CHARACTER_FILMS_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{selectedCharacterFilms:n.payload.films});default:return e}}});function J(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.c)(M),Object(f.c)(P)]);case 2:case"end":return e.stop()}}),q)}var V,W,G,Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))},K=t(4),Q=t(23),X=t(22),Z=t(6),$="375px",ee="425px",ne="768px",te="1024px",re="1440px",ae="2560px",ce={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat($,")"),mobileL:"(max-width: ".concat(ee,")"),tablet:"(max-width: ".concat(ne,")"),laptop:"(max-width: ".concat(te,")"),laptopL:"(max-width: ".concat(re,")"),desktop:"(max-width: ".concat(ae,")"),desktopL:"(max-width: ".concat(ae,")")},oe=K.e.button(V||(V=Object(Z.a)(["\n  border: none;\n  border-radius: 50px;\n  box-shadow: ",";\n  cursor: pointer;\n  font-size: 1.6em;\n  outline: none;\n  padding: 0.6em 3em;\n  transition: box-shadow 0.3s ease-in-out;\n\n  ",";\n\n  &:active {\n    box-shadow: ",";\n  }\n\n  @media "," {\n    font-size: 1.2em;\n  }\n"])),(function(e){return e.theme.boxShadow}),(function(e){return e.disabled?Object(K.d)(W||(W=Object(Z.a)(["\n          background-color: rgba(0, 0, 0, 0.05);\n          color: rgba(0, 0, 0, 0.15);\n        "]))):Object(K.d)(G||(G=Object(Z.a)(["\n          background-color: ",";\n          color: ",";\n        "])),(function(e){return e.theme.componentBackgroundColor}),(function(e){return e.theme.primaryColor}))}),(function(e){return e.theme.activeBoxShadow}),ce.mobileL),ie=t(2);var se,ue,le,de=function(e){var n=e.children,t=Object(X.a)(e,["children"]);return Object(ie.jsx)(oe,Object(j.a)(Object(j.a)({},t),{},{children:n}))},he=function(e){var n,t,r=e.film,a=r.title,c=r.releaseDate,o=r.openingCrawl;return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("h3",{children:a}),Object(ie.jsx)("p",{children:c.toLocaleDateString()}),Object(ie.jsx)("p",{children:(n=o,t=130,n.length>t?n.substring(0,t)+"...":n)})]})},pe=K.e.ul(se||(se=Object(Z.a)(["\n    max-height: calc(100vh - 200px);\n    overflow-y: auto;\n"]))),be=function(e){var n=e.films;return Object(ie.jsx)(pe,{children:n.map((function(e){return function(e){return Object(ie.jsx)(he,{film:e},e.id)}(e)}))})},fe=K.e.p(ue||(ue=Object(Z.a)(["\n    color: #c62222;\n"]))),me=K.e.p(le||(le=Object(Z.a)(["\n  color: ",";\n  display: inline-block;\n  font-size: 2.6rem;\n  margin: 0;\n"])),(function(e){return e.theme.primaryColor}));var je,xe,Oe,Ce,ge,ve,Se,Ee,we=function(e){var n=e.children,t=Object(X.a)(e,["children"]);return Object(ie.jsx)(me,Object(j.a)(Object(j.a)({},t),{},{children:n}))},Fe=t(36),ye=t.n(Fe),Re=function(){var e=Object(c.useContext)(K.a);return Object(ie.jsx)(ye.a,{type:"Oval",color:e.accentColor,height:40,width:40})},Te=function(e){var n=e.character,t=Object(u.c)((function(e){return e.films})),r=t.selectedCharacterFilms,o=t.loading,i=t.error,s=Object(u.b)();Object(c.useEffect)((function(){var e;s((e=n.filmIds,{type:a.FETCH_FILMS,payload:{filmIds:e}}))}),[n.filmIds,s]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("h2",{children:["List of movies in which ",n.name," appeared"]}),o&&Object(ie.jsx)(Re,{}),!o&&Object(ie.jsx)(be,{films:r}),!o&&!i&&0===r.length&&Object(ie.jsx)(we,{children:"No films found."}),!o&&i&&Object(ie.jsx)(fe,{children:i})]})},_e=K.e.li(je||(je=Object(Z.a)(["\n    border-radius: 10px;\n    box-shadow: ",";\n    cursor: pointer;\n    padding: 1em 2em;\n"])),(function(e){return e.theme.boxShadow})),He=function(e){var n=e.character,t=e.onClick,r=n.homeworld,a=r.name,c=r.population;return Object(ie.jsxs)(_e,{onClick:function(){return t(n)},children:[Object(ie.jsx)("h3",{children:n.name}),Object(ie.jsxs)("p",{children:["Homeworld: ",a,", Population: ",c]})]})},ke=K.e.ul(xe||(xe=Object(Z.a)(["\n    display: grid;\n    gap: 2.5rem;\n    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n    margin: 2em 0;\n\n    @media "," {\n        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    }\n"])),ce.tablet),Ae=function(e){var n=e.characters,t=e.onCharacterSelect;return Object(ie.jsx)(ke,{children:n.map((function(e){return function(e){return Object(ie.jsx)(He,{character:e,onClick:t},e.id)}(e)}))})},Le=K.e.div(Oe||(Oe=Object(Z.a)(["\n    background: #fff;\n    border-radius: 5px;\n    margin: 20px auto;\n    max-height: calc(100vh - 40px);\n    overflow: hidden;\n    padding: 20px;\n    position: relative;\n    width: 60%;\n\n    @media "," {\n        width: 80%;\n    }\n\n    @media "," {\n        height: 100vh;\n        margin: 0;\n        max-height: initial;\n        padding: 20px 10px;\n        width: 100%;\n    }\n"])),ce.laptop,ce.tablet),Ie=K.e.button(Ce||(Ce=Object(Z.a)(["\n    background: none;\n    border: none;\n    color: #333;\n    cursor: pointer;\n    font-size: 30px;\n    font-weight: bold;\n    outline: none;\n    position: absolute;\n    right: 20px;\n    top: 10px;\n    transition: all 200ms;\n\n    &:hover {\n        color:",";\n    }\n"])),(function(e){return e.theme.accentColor})),Me=K.e.div(ge||(ge=Object(Z.a)(["\n    margin: 1em 2em;\n\n    @media "," {\n        margin: 1em 0;\n    }\n"])),ce.tablet),Ue=K.e.div(ve||(ve=Object(Z.a)(["\n    background: rgba(0, 0, 0, 0.7);\n    bottom: 0;\n    left: 0;\n    opacity: ",";\n    position: fixed;\n    right: 0;\n    top: 0;\n    transition: all 0.3s linear;\n    visibility: ",";\n"])),(function(e){return e.isOpen?"1":"0"}),(function(e){return e.isOpen?"visible":"hidden"})),De=function(e){var n=e.isOpen,t=e.onClose,r=e.children;return Object(c.useEffect)((function(){return n&&(document.body.style.overflow="hidden"),function(){document.body.style.overflow="unset"}}),[n]),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ue,{isOpen:n,children:Object(ie.jsxs)(Le,{children:[Object(ie.jsx)(Ie,{onClick:t,children:"\xd7"}),Object(ie.jsx)(Me,{children:r})]})})})},ze=K.e.h1(Se||(Se=Object(Z.a)(["\n  color: ",";\n  margin: 0 0 2rem;\n\n  @media "," {\n    font-size: 1.6em;\n  }\n"])),(function(e){return e.theme.secondaryAccentColor}),ce.mobileL),Be=K.e.input(Ee||(Ee=Object(Z.a)(["\n  background-color: ",";\n  border: none;\n  border-radius: 50px;\n  box-shadow: ",";\n  color: ",";\n  font-size: 1.6em;\n  outline: none;\n  padding: 0.6em 1.5em;\n  width: 100%;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  @media "," {\n    font-size: 1.2em;\n  }\n"])),(function(e){return e.theme.componentBackgroundColor}),(function(e){return e.theme.activeBoxShadow}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.placeholderColor}),ce.mobileL);var Pe,qe,Ne,Je,Ve=function(e){return Object(ie.jsx)(Be,Object(j.a)({},e))},We=K.e.form(Pe||(Pe=Object(Z.a)(["\n  border-radius: 10px;\n  box-shadow: ",";\n  margin: 0 auto;\n  overflow: hidden;\n  padding: 4rem 2rem;\n  text-align: left;\n  width: 550px;\n\n  @media "," {\n    width: 100%;\n  }\n"])),(function(e){return e.theme.boxShadow}),ce.tablet),Ge=K.e.div(qe||(qe=Object(Z.a)(["\n  margin-bottom: 3rem;\n"]))),Ye=function(e){var n=e.searchCharacter,t=Object(c.useState)(""),r=Object(Q.a)(t,2),a=r[0],o=r[1];return Object(ie.jsxs)(We,{onSubmit:function(e){e.preventDefault(),n(a)},children:[Object(ie.jsx)(ze,{children:"Search Your Favorite Characters"}),Object(ie.jsx)(Ge,{children:Object(ie.jsx)(Ve,{type:"text",name:"search",placeholder:"Search a character",onChange:function(e){o(e.target.value)}})}),Object(ie.jsx)(de,{children:"Search"})]})},Ke=function(){var e=Object(u.c)((function(e){return e.characters})),n=e.characters,t=e.selectedCharacter,r=e.loading,a=e.page,o=e.error,i=Object(u.b)(),s=Object(c.useState)(null),l=Object(Q.a)(s,2),d=l[0],h=l[1],p=Object(c.useCallback)((function(e){h(e),i(E(e,1))}),[i]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ye,{searchCharacter:p}),Object(ie.jsx)(Ae,{characters:n.data,onCharacterSelect:function(e){i(w(e))}}),!r&&n.hasMoreData&&Object(ie.jsx)(de,{onClick:function(){null!==d&&i(E(d,a))},children:"Load more characters"}),r&&Object(ie.jsx)(Re,{}),!r&&!o&&0===n.data.length&&null!==d&&Object(ie.jsx)(we,{children:"No characters found."}),!r&&o&&Object(ie.jsx)(fe,{children:o}),Object(ie.jsx)(De,{isOpen:null!==t,onClose:function(){i(w(null))},children:null!==t&&Object(ie.jsx)(Te,{character:t})})]})},Qe=K.e.div(Ne||(Ne=Object(Z.a)(["\n  margin: 2em 4em;\n\n  @media "," {\n    margin: 2em 1em;\n  }\n"])),ce.tablet),Xe=Object(K.c)(Je||(Je=Object(Z.a)(['\n  html {\n    box-sizing: border-box;\n    font-size: 10px;\n  }\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n\n  body {\n    background-color: #ebecf0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 1.6rem;\n    line-height: 1.5;\n    margin: 0;\n    padding: 0;\n    text-align: center;\n  }\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n']))),Ze={accentColor:"#0850FA",activeBoxShadow:"inset 3px 5px 8px rgba(0, 0, 0, 0.2), -3px -5px 8px rgba(255, 255, 255, 0.5)",boxShadow:"5px 10px 15px rgba(0, 0, 0, 0.2), -5px -10px 15px rgba(255, 255, 255, 0.5)",componentBackgroundColor:"#ecedf0",placeholderColor:"#98a2ba",primaryColor:"#788093",progressBarLineStartColor:"rgb(6, 81, 250)",progressBarLineEndColor:"rgb(0, 223, 226)",secondaryAccentColor:"#326cf5"};var $e=function(){return Object(ie.jsxs)(K.b,{theme:Ze,children:[Object(ie.jsx)(Xe,{}),Object(ie.jsxs)(Qe,{children:[Object(ie.jsx)("h1",{children:"Star Wars"}),Object(ie.jsx)(Ke,{})]})]})},en=function(){var e=Object(d.a)(),n=Object(l.applyMiddleware)(e),t=Object(h.composeWithDevTools)({}),r=Object(l.createStore)(N,t(n));return e.run(J),r}();s.a.render(Object(ie.jsx)(o.a.StrictMode,{children:Object(ie.jsx)(u.a,{store:en,children:Object(ie.jsx)($e,{})})}),document.getElementById("root")),Y()}},[[71,1,2]]]);
//# sourceMappingURL=main.3da45827.chunk.js.map